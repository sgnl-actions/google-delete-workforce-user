name: google-delete-workforce-user
description: Delete a workforce user from Google Cloud IAM Workforce Identity

# Input parameters for web form generation
inputs:
  workforcePoolId:
    type: text
    description: The ID of the workforce pool containing the user
    required: true
    validation:
      min: 1
      max: 100

  subjectId:
    type: text
    description: The subject ID of the workforce user to delete
    required: true
    validation:
      min: 1
      max: 200

# Expected output structure
outputs:
  workforcePoolId:
    type: text
    description: The workforce pool ID that was processed

  subjectId:
    type: text
    description: The subject ID that was deleted

  deleted:
    type: boolean
    description: Whether the user was successfully deleted

  alreadyDeleted:
    type: boolean
    description: Whether the user was already deleted (404 response)

  deletedAt:
    type: datetime
    description: When the deletion completed (ISO 8601)

# Required secrets (configured at deployment time)
secrets:
  - GOOGLE_SERVICE_ACCOUNT_KEY

# Runtime configuration
runtime:
  type: nodejs-22
  timeout: 30s
  memory: 128Mi